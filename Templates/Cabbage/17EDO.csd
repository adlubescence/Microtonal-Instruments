<Cabbage>
form caption("17EDO") size(1000, 380), guiMode("queue"), pluginId("def1")

;KEYBOARD;


button   bounds (050, 250, 050, 050), channel("but101"), latched(0), text("C3"), colour:0(128,128,128), _note("101")
button   bounds (060, 200, 050, 050), channel("but102"), latched(0), text("C#3"), colour:0(0,0,0), _note("102")
button   bounds (090, 300, 050, 050), channel("but103"), latched(0), text("Db3"), colour:0(255,255,255), fontColour:0(0,0,0), _note("103")
button   bounds (100, 250, 050, 050), channel("but104"), latched(0), text("D3"), colour:0(128,128,128), _note("104")
button   bounds (110, 200, 050, 050), channel("but105"), latched(0), text("D#3"), colour:0(0,0,0), _note("105")
button   bounds (140, 300, 050, 050), channel("but106"), latched(0), text("Eb3"), colour:0(255,255,255), fontColour:0(0,0,0), _note("106")
button   bounds (150, 250, 050, 050), channel("but107"), latched(0), text("E3"), colour:0(128,128,128), _note("107")
button   bounds (200, 250, 050, 050), channel("but108"), latched(0), text("F3"), colour:0(128,128,128), _note("108")
button   bounds (210, 200, 050, 050), channel("but109"), latched(0), text("F#3"), colour:0(0,0,0), _note("109")
button   bounds (240, 300, 050, 050), channel("but110"), latched(0), text("Gb3"), colour:0(255,255,255), fontColour:0(0,0,0), _note("110")
button   bounds (250, 250, 050, 050), channel("but111"), latched(0), text("G3"), colour:0(128,128,128), _note("111")
button   bounds (260, 200, 050, 050), channel("but112"), latched(0), text("G#3"), colour:0(0,0,0), _note("112")
button   bounds (290, 300, 050, 050), channel("but113"), latched(0), text("Ab3"), colour:0(255,255,255), fontColour:0(0,0,0), _note("113")
button   bounds (300, 250, 050, 050), channel("but114"), latched(0), text("A3"), colour:0(128,128,128), _note("114")
button   bounds (310, 200, 050, 050), channel("but115"), latched(0), text("A#3"), colour:0(0,0,0), _note("115")
button   bounds (340, 300, 050, 050), channel("but116"), latched(0), text("Bb3"), colour:0(255,255,255), fontColour:0(0,0,0), _note("116")
button   bounds (350, 250, 050, 050), channel("but117"), latched(0), text("B3"), colour:0(128,128,128), _note("117")
button   bounds (400, 250, 050, 050), channel("but201"), latched(0), text("C4"), colour:0(128,128,128), _note("201")
button   bounds (410, 200, 050, 050), channel("but202"), latched(0), text("C#4"), colour:0(0,0,0), _note("202")
button   bounds (440, 300, 050, 050), channel("but203"), latched(0), text("Db4"), colour:0(255,255,255), fontColour:0(0,0,0), _note("203")
button   bounds (450, 250, 050, 050), channel("but204"), latched(0), text("D4"), colour:0(128,128,128), _note("204")
button   bounds (460, 200, 050, 050), channel("but205"), latched(0), text("D#4"), colour:0(0,0,0), _note("205")
button   bounds (490, 300, 050, 050), channel("but206"), latched(0), text("Eb4"), colour:0(255,255,255), fontColour:0(0,0,0), _note("206")
button   bounds (500, 250, 050, 050), channel("but207"), latched(0), text("E4"), colour:0(128,128,128), _note("207")
button   bounds (550, 250, 050, 050), channel("but208"), latched(0), text("F4"), colour:0(128,128,128), _note("208")
button   bounds (560, 200, 050, 050), channel("but209"), latched(0), text("F#4"), colour:0(0,0,0), _note("209")
button   bounds (590, 300, 050, 050), channel("but210"), latched(0), text("Gb4"), colour:0(255,255,255), fontColour:0(0,0,0), _note("210")
button   bounds (600, 250, 050, 050), channel("but211"), latched(0), text("G4"), colour:0(128,128,128), _note("211")
button   bounds (610, 200, 050, 050), channel("but212"), latched(0), text("G#4"), colour:0(0,0,0), _note("212")
button   bounds (640, 300, 050, 050), channel("but213"), latched(0), text("Ab4"), colour:0(255,255,255), fontColour:0(0,0,0), _note("213")
button   bounds (650, 250, 050, 050), channel("but214"), latched(0), text("A4"), colour:0(128,128,128), _note("214")
button   bounds (660, 200, 050, 050), channel("but215"), latched(0), text("A#4"), colour:0(0,0,0), _note("215")
button   bounds (690, 300, 050, 050), channel("but216"), latched(0), text("Bb4"), colour:0(255,255,255), fontColour:0(0,0,0), _note("216")
button   bounds (700, 250, 050, 050), channel("but217"), latched(0), text("B4"), colour:0(128,128,128), _note("217")
button   bounds (750, 250, 050, 050), channel("but301"), latched(0), text("C5"), colour:0(128,128,128), _note("301")
button   bounds (760, 200, 050, 050), channel("but302"), latched(0), text("C#5"), colour:0(0,0,0), _note("302")
button   bounds (790, 300, 050, 050), channel("but303"), latched(0), text("Db5"), colour:0(255,255,255), fontColour:0(0,0,0), _note("303")
button   bounds (800, 250, 050, 050), channel("but304"), latched(0), text("D5"), colour:0(128,128,128), _note("304")
button   bounds (810, 200, 050, 050), channel("but305"), latched(0), text("D#5"), colour:0(0,0,0), _note("305")
button   bounds (840, 300, 050, 050), channel("but306"), latched(0), text("Eb5"), colour:0(255,255,255), fontColour:0(0,0,0), _note("306")
button   bounds (850, 250, 050, 050), channel("but307"), latched(0), text("E5"), colour:0(128,128,128), _note("307")


;;MIDI midiin  instr   130
;;
;;knotelength    init    0
;;knoteontime    init    0
;;
;;kstatus, kchan, kdata1, kdata2                  midiin

;OSC 1;
groupbox bounds(000, 000, 100, 080), text("OSC 1"), colour(10,38,10), corners(0)
checkbox bounds(010, 040, 020, 020), channel("Osc1"), corners(0)
combobox bounds(040, 040, 050, 020), channel("Wav1"), text("saw", "sqr", "tri"), range(1, 4, 1, 1, 1)

;OSC 2;
groupbox bounds(000, 080, 100, 080), text("OSC 2"), colour(10,38,10), corners(0)
checkbox bounds(010, 120, 020, 020), channel("Osc2"), corners(0)
combobox bounds(040, 120, 050, 020), channel("Wav2"), text("saw", "sqr", "tri"), range(1, 4, 1, 1, 1)

;LFO;
groupbox bounds(100, 000, 170, 160), text("LFO"), colour(10,38,10), corners(0)
checkbox bounds(110, 040, 020, 020), channel("Pitch"), corners(0)
label    bounds(100, 060, 040, 020), fontSize(12), text("Pitch")
label    bounds(100, 100, 040, 020), fontSize(12), text("VCA")
checkbox bounds(110, 120, 020, 020), channel("VCA"), corners(0)
rslider  bounds(130, 045, 080, 080), channel("LFODep"), valueTextBox(1), textBox(1), text("Depth"),  range(0,  5, 0.05)
rslider  bounds(190, 045, 080, 080), channel("LFORte"), valueTextBox(1), textBox(1), text("Rate"),  range(0,  5, 0.05)

;ADSR;
groupbox bounds(270, 000, 260, 160), text("ADSR"), colour(10,38,10), corners(0)
rslider  bounds(270, 045, 080, 080), valueTextBox(1), textBox(1), text("Atk"), channel("AAtk"),  range(0,  5, 0.05)
rslider  bounds(330, 045, 080, 080), valueTextBox(1), textBox(1), text("Dec"), channel("ADec"),  range(0,  5, 0.5)
rslider  bounds(390, 045, 080, 080), valueTextBox(1), textBox(1), text("Sus"), channel("ASus"),  range(0,  1, 1)
rslider  bounds(450, 045, 080, 080), valueTextBox(1), textBox(1), text("Rel"), channel("ARel"),  range(0,  5, 0.2)

;Filter;
groupbox bounds(530, 000, 190, 160), text("Filter"), colour(10,38,10), corners(0)
combobox bounds(540, 075, 050, 020), channel("VCF"), text("LPF", "HPF"), range(1, 2, 1, 1, 1)
rslider  bounds(580, 045, 080, 080), valueTextBox(1), textBox(1), text("Cutoff"), channel("FilCut"),  range(0,  5, 0.05)
rslider  bounds(640, 045, 080, 080), valueTextBox(1), textBox(1), text("Res"), channel("FilRes"),  range(0,  5, 0.05)

;Effect;
groupbox bounds(720, 000, 190, 160), text("Effect"), colour(10,38,10), corners(0)
combobox bounds(730, 075, 050, 020), channel("Effect"), text("Chr", "Del", "Rev"), range(1, 4, 1, 1, 1)
rslider  bounds(770, 045, 080, 080), valueTextBox(1), textBox(1), text("Mod1"), channel("Mod1"),  range(0,  5, 0.05)
rslider  bounds(830, 045, 080, 080), valueTextBox(1), textBox(1), text("Mod2"), channel("Mod2"),  range(0,  5, 0.05)

;Output;
groupbox bounds(910, 000, 090, 160), text("Output"), colour(10,38,10), corners(0)
rslider  bounds(915, 045, 080, 080), valueTextBox(1), textBox(1), text("Volume"), channel("Vol"),  range(0,  5, 0.05)

</Cabbage>
<CsoundSynthesizer>
<CsOptions>
</CsOptions>
<CsInstruments>
ksmps = 64
nchnls = 2
0dbfs = 1

instr 001
    SWidgetChannels[] cabbageGetWidgetChannels
    kIndex, kTrig cabbageChanged SWidgetChannels
    iBaseFreq = 129.486
    SNames[] cabbageGetWidgetChannels "automatable(1), _note()"
    
    kBut chnget "but101"
    if changed:k(kBut)==1 then
        event "i", 101, 0, .5, iBaseFreq 
    endif
    
    kBut chnget "but102"
    if changed:k(kBut)==1 then
        kFreq = iBaseFreq * pow(2, kIndex/17)
        event "i", 101, 0, .5, kFreq
    endif
    
    kBut chnget "but103"
    if changed:k(kBut)==1 then
        kFreq = iBaseFreq * pow(2, kIndex/17)
        event "i", 101, 0, .5, kFreq
    endif
    
    kBut chnget "but104"
    if changed:k(kBut)==1 then
        kFreq = iBaseFreq * pow(2, kIndex/17)
        event "i", 101, 0, .5, kFreq
    endif
    endin
    
instr 101
  aenv madsr .1, .15, .1, 0.1
  ares vco aenv, p4, 2, 0.5
  outs ares, ares
endin 


</CsInstruments>
<CsScore>
f1 0 1024 10 1
i1 0 100
</CsScore>
</CsoundSynthesizer>

; John Heinze 2025
;
; License: CC0 1.0 Universal
; You can copy, modify, and distribute this file, 
; even for commercial purposes, all without asking permission. 
